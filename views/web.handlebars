<!doctype html>
<html>
<head>
  <title>Graph | Basic usage</title>


    <style>
    body { 
      font: 14px helvetica neue, helvetica, arial, sans-serif;
    }

    #cy {
      height: 100%;
      width: 100%;
      position: absolute;
      left: 0;
      top: 0;
    }
    </style>


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  
  <!-- Loading Bootstrap -->
  <link href="/css/bootstrap/bootstrap.css" rel="stylesheet">

  <!-- Loading Flat UI -->
  <link href="/css/flat/flat-ui.css" rel="stylesheet">

  <link rel="shortcut icon" href="/images/flat/favicon.ico">

  <link href="/css/coral.css" rel="stylesheet">


    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<meta charset=utf-8 />

  <script src="http://cytoscape.github.io/cytoscape.js/api/cytoscape.js-latest/cytoscape.min.js"></script>
  
</head>


<body>

     <!-- Header -->
   
    <div class="header-gen">
        <h1 id="nexa-light-header" style="color: #00ADE6" class="title">web</h1>
    </div>
  

    <!-- Bottom Nav Bar --> 
    <div id="move" class="bottom-holder" style="z-index: 1000">
        <div class="btn-toolbar">
           <!-- <div class="btn-group"> -->
            <a class="navbutton btn btn-inverse" href="../../homepage.handlebars/{{userID}}"><span class="fui-play"></span></a>
            <a class="navbutton btn btn-inverse" href="../../account.handlebars"><span class="fui-user"></span></a>
            <a class="navbutton btn btn-inverse" href="../../activity.handlebars"><span class="fui-eye"></span></a>
        </div> 
      </div>




  <div id="cy"></div>





  <script>
    $(function(){ // on dom ready

      $('#cy').cytoscape({

        style: cytoscape.stylesheet()
        .selector('node')
          .css({
            'content': 'data(name)',
            'text-valign': 'center',
            'color': 'white',
            'text-outline-width': 2,
            'text-outline-color': '#888'
          })
        .selector('edge')
          .css({
            'target-arrow-shape': 'triangle'
          })
        .selector(':selected')
          .css({
            'background-color': 'black',
            'line-color': 'black',
            'target-arrow-color': 'black',
            'source-arrow-color': 'black'
          })
        .selector('.faded')
          .css({
            'opacity': 0.25,
            'text-opacity': 0
          }),

        elements: {
        nodes: [
          {{#each node}}
            { data: { id: '{{id}}', name: '{{message}}'} },
          {{/each}}
        ],

        edges: [
          {{#each node}}
             { data: { target: '{{parent}}', source: '{{id}}'} },
         {{/each}}
        ]
        },

        ready: function(){
        window.cy = this;

        // giddy up...

        cy.elements().unselectify();

        cy.on('tap', 'node', function(e){
          var node = e.cyTarget; 
          var neighborhood = node.neighborhood().add(node);
          
          cy.elements().addClass('faded');
          neighborhood.removeClass('faded');
          window.location('/post.handlebars/' + '{{web}}' + '/' + node.id());
        });

        cy.on('tap', function(e){
          if( e.cyTarget === cy ){
            cy.elements().removeClass('faded');
          }
        });
        }

      });

    }); // on dom ready




//   // create an array with nodes

//     var nodes = [
//       {{#each node}}
//         {id: '{{id}}', label: '{{message}}'},
//       {{/each}}
//     ];


//   var edges = [
//      {{#each node}}
//          {from: '{{parent}}', to: '{{_id}}', color: '#00ADE6'},
//      {{/each}}
//   ];

//   // create a graph
//   var container = document.getElementById('mygraph');
//   var data= {
//     nodes: nodes,
//     edges: edges,
//   };
//   var options = {
//     width: '100%',
//     height: '100%',
//     nodes: {
//       fontSize: 12,
//       fontColor: 'white',
//       color: {
//         background: 'black',
//         border: '#cc685d',
//       }
//     }
//   };

//   var graph = new vis.Graph(container, data, options);

//   graph.on('select', function (properties) {

//   if (confirm('Post to this node?')) {
//     document.location.href = "/post.handlebars/" + "{{web}}" + "/" + properties.nodes[0];
//   } else {

// }
   
//   });

    </script>






    

    <!-- <script src="https://code.jquery.com/jquery.js"></script> --> 


   <!-- Load JS here for greater good =============================-->
    <!-- <script src="/js/flat/jquery-1.8.3.min.js"></script> -->
    <script src="/js/flat/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="/js/flat/jquery.ui.touch-punch.min.js"></script>
    <script src="/js/flat/bootstrap.min.js"></script>
    <script src="/js/flat/bootstrap-select.js"></script>
    <script src="/js/flat/bootstrap-switch.js"></script>
    <script src="/js/flat/flatui-checkbox.js"></script>
    <script src="/js/flat/flatui-radio.js"></script>
    <script src="/js/flat/jquery.tagsinput.js"></script>
    <script src="/js/flat/jquery.placeholder.js"></script>


    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48711052-1', { 'cookieDomain': 'none' });
  ga('send', 'pageview');

</script>
</body>
</html>